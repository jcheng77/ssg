<% if params[:page].to_i <= 1 && @shares.blank? %>
ShareController.notFound();
<% else %>
<% @shares.each do |i| %>
ShareController.appendShare("<%= escape_javascript render(:partial => "shares/share", :object => i) %>");
<% end %>
ShareController.clearNotice();
<% end %>

<% if @shares.blank? || @shares.offset + @shares.length >= @shares.total_entries %>
ShareController.noMore();
<% else %>
ShareController.hasMore();
<% end %>